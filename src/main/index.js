function createBoard(t){const e=document.querySelector("table"),c=Array(t).fill(1).map((t,e)=>t+e);c.forEach(a=>{const r=document.createElement("tr");e.append(r),c.forEach(t=>{var e=document.createElement("td");e.setAttribute("id",a.toString()+t.toString()),e.classList.add((a+t)%2?"blackBoard":"whiteBoard"),r.append(e)})})}
class Game{constructor(e){this.boardSize=e,this.board=[p("w","k",8,5),p("w","q",8,4),p("w","b",8,3),p("w","b",8,6),p("w","n",8,2),p("w","n",8,7),p("w","r",8,1),p("w","r",8,8),p("b","k",1,5),p("b","q",1,4),p("b","b",1,3),p("b","b",1,6),p("b","n",1,2),p("b","n",1,7),p("b","r",1,1),p("b","r",1,8)],this.clicked=!1,this.clickedThingIdx=0;for(let e=1;e<=8;e++)this.board.push(p("w","p",7,e)),this.board.push(p("b","p",2,e))}getPieceIndexByLocation(e){let i=0;for(var t of this.board){if(t.vert===e.vert&&t.hori===e.hori)return i;i++}return-1}activateListenersOf(t){for(let i=1;i<=this.boardSize;i++)for(let e=1;e<=this.boardSize;e++){var r=this.getPieceIndexByLocation({vert:i,hori:e});if(-1===r){const o=byString({vert:i,hori:e});null!=(c=document.getElementById(o))&&c.addEventListener("click",()=>{console.log("NULL Piece pressed",o)})}else{var c=this.board[r];c.side===t&&c.activateListener(this.board,e=>{this.clicked=!0,this.clickedThingIdx=this.getPieceIndexByLocation(e)})}}}async clickedPiece(){this.clicked=!1,setInterval(()=>{if(console.log("hello"),this.clicked)return this.clicked=!1,console.log("what"),this.clickedThingIdx},200)}}
const anyLocArr=[{vert:1,hori:1}];class ML{static movableLocation(r,e,t){switch(r){case Piece.King:return ML.king(e,t);case Piece.Queen:return ML.queen(e,t);case Piece.Bishop:return ML.bishop(e,t);case Piece.Night:return ML.night(e,t);case Piece.Rook:return ML.rook(e,t);case Piece.Pawn:return e===Side.White?ML.whitePawn(e,t):ML.blackPawn(e,t)}}static king(r,e){return anyLocArr}static queen(r,e){return anyLocArr}static bishop(r,e){return anyLocArr}static night(r,e){return anyLocArr}static rook(r,e){return anyLocArr}static whitePawn(r,e){return anyLocArr}static blackPawn(r,e){return anyLocArr}}
class PieceStruct{constructor(t,i,e){this.side=t,this.piece=i,this.location=e}get vert(){return this.location.vert}get hori(){return this.location.hori}activateListener(i,e){var t;null!=(t=document.getElementById(byString(this.location)))&&t.addEventListener("click",()=>{var t=ML.movableLocation(this.piece,this.side,i);console.log(byString(this.location)+"'s movable locations :",t),e(this.location)})}}
function p(e,r,n,t){return new PieceStruct(parseInt(Object.keys(Side)[Array.from("wb").indexOf(e)]),parseInt(Object.keys(Piece)[Array.from("kqbnrp").indexOf(r)]),{vert:n,hori:t})}
function showPieces(e,t,i=[]){for(var o of e){var n=document.getElementById(byString(o.location));n.classList.remove("whitePiece","blackPiece"),n.classList.add(["whitePiece","blackPiece"][o.side]),n.textContent=["왕","여왕","비숍","말","룩","폰"][o.piece]}for(let e=11;e<=10*t+1;e+=10){var c=document.getElementById(e.toString());c.innerHTML||(c.innerHTML="&nbsp;")}for(var a of i){a=document.getElementById(byString(a));a.classList.remove("whiteBoard","blackBoard"),a.classList.add("movableLocation")}}
var Piece,Side,Mode;function byString(e){return Object.values(e).join("")}!function(e){e[e.King=0]="King",e[e.Queen=1]="Queen",e[e.Bishop=2]="Bishop",e[e.Night=3]="Night",e[e.Rook=4]="Rook",e[e.Pawn=5]="Pawn"}(Piece=Piece||{}),function(e){e[e.White=0]="White",e[e.Black=1]="Black"}(Side=Side||{}),function(e){e[e.classic=0]="classic",e[e.customizable=1]="customizable",e[e.tenXten=2]="tenXten",e[e.null=-1]="null"}(Mode=Mode||{});
function checkURL(e){e=new URL(e).searchParams.get("mode");return"classic"===e?Mode.classic:"customizable"===e?Mode.customizable:"tenXten"===e?Mode.tenXten:Mode.null}
createBoard(8);const g=new Game(8);showPieces(g.board,8);